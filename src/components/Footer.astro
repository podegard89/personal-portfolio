---
import gitHubMark from "../images/github-mark.svg";
import linkedInIcon from "../images/LinkedIn_icon.svg.png";
import { Image } from "astro:assets";
import { FormWithLoader } from "./FormWithLoader";

const allNavItems = await Astro.glob("../content/nav-items/*.md");
---

<footer id="footer" class="page-link">
  <div class="footer-content">
    <div class="social-links">
      <a href="https://github.com/podegard89" class="github">
        <Image class="social-icon" src={gitHubMark} alt="GitHub Icon" />
      </a>
      <a href="https://www.linkedin.com/in/pearce-odegard/" class="linkedIn">
        <Image class="social-icon" src={linkedInIcon} alt="LinkedIn Icon" />
      </a>
    </div>
    <p class="copy">&copy; {new Date().getFullYear()} Pearce Odegard</p>
    <ul class="footer-nav">
      {
        allNavItems.map((navItem) => (
          <li>
            <p>
              <span class="global-p-a-style-override">
                <a class="footer-link" href={navItem.frontmatter.href}>
                  {navItem.frontmatter.title}
                </a>
              </span>
            </p>
          </li>
        ))
      }
      <li>
        <p>
          <span class="global-p-a-style-override"
            ><a class="footer-link" href="/legal/privacy-policy"
              >Privacy Policy</a
            ></span
          >
        </p>
      </li>
    </ul>
  </div>
  <div class="contact-form-container">
    <FormWithLoader client:only />
  </div>
</footer>

<style>
  footer {
    font-family: "VulfSansDemo", "sans-serif";
    background-color: var(--gray);
    color: #fff;
    text-align: center;
    display: flex;
    flex-wrap: wrap;
    flex-direction: row;
    justify-content: space-evenly;
    align-items: center;
    margin-top: auto;
    gap: 1em;
    margin-bottom: 0;
    padding: 1em;
    border: none !important;
    font-weight: normal !important;
    z-index: 100;
    box-shadow:
      rgba(0, 0, 0, 0.25) 0px 54px 55px,
      rgba(0, 0, 0, 0.12) 0px -12px 30px,
      rgba(0, 0, 0, 0.12) 0px 4px 6px,
      rgba(0, 0, 0, 0.17) 0px 12px 13px,
      rgba(0, 0, 0, 0.09) 0px -3px 5px;
  }

  @media (max-width: 768px) {
    footer {
      flex-direction: column-reverse;
      gap: 2em;
      line-height: 1;
    }
  }

  .copy {
    font-style: italic;
  }

  .footer-nav {
    text-align: left;
    font-size: medium;
    line-height: 1;
  }

  .footer-link {
    color: #fff;
    text-decoration: none;
  }

  .footer-link:hover {
    color: rgb(var(--accent-light));
  }

  .social-links {
    display: flex;
    flex-direction: row;
    justify-content: space-evenly;
    align-items: center;
    flex-wrap: wrap;
    gap: 1em;
  }

  .social-icon {
    width: 4em;
    height: 4em;
    display: block;
    background-color: #fff;
    padding: 0.5em;
    border-radius: 0.8em;
    transition: transform 0.1s ease-in-out;
  }

  .social-icon:is(:hover, :focus) {
    transform: scale(1.1);
  }
</style>
